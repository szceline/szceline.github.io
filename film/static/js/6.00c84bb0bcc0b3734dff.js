webpackJsonp([6],{"+F9W":function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"city_body "},[n("div",{staticClass:"city_list"},[t.isLoading?n("Loading"):n("Scroller",{ref:"city_list"},[n("div",[n("div",{staticClass:"city_hot"},[n("h2",[t._v("热门城市")]),t._v(" "),n("ul",{staticClass:"clearfix"},t._l(t.hotList,function(i){return n("li",{key:i.id},[t._v(t._s(i.nm))])}),0)]),t._v(" "),n("div",{ref:"city_sort",staticClass:"city_sort"},t._l(t.cityList,function(i){return n("div",{key:i.index},[n("h2",[t._v(t._s(i.index))]),t._v(" "),n("ul",t._l(i.list,function(i){return n("li",{key:i.id},[t._v(t._s(i.nm))])}),0)])}),0)])])],1),t._v(" "),n("div",{staticClass:"city_index"},[n("ul",t._l(t.cityList,function(i,s){return n("li",{key:i.index,on:{touchstart:function(i){return t.handleToIndex(s)}}},[t._v(t._s(i.index))])}),0)])])},staticRenderFns:[]};var e=n("VU/8")({name:"city",data:function(){return{cityList:[],hotList:[],isLoading:!0}},mounted:function(){var t=this;this.$axios.get("/api/cityList").then(function(i){if("ok"===i.data.msg){t.isLoading=!1;var n=i.data.data.cities,s=t.formatCityList(n),e=s.cityList,r=s.hotList;t.cityList=e,t.hotList=r}})},methods:{formatCityList:function(t){for(var i=[],n=[],s=0;s<t.length;s++)1===t[s].isHot&&n.push(t[s]);for(s=0;s<t.length;s++){var e=t[s].py.substring(0,1).toUpperCase();if(o(e))i.push({index:e,list:[{nm:t[s].nm,id:t[s].id}]});else for(var r=0;r<i.length;r++)i[r].index===e&&i[r].list.push({nm:t[s].nm,id:t[s].id})}function o(t){for(var n=0;n<i.length;n++)if(i[n].index===t)return!1;return!0}return i.sort(function(t,i){return t.index>i.index?1:t.index<i.index?-1:0}),{cityList:i,hotList:n}},handleToIndex:function(t){var i=this.$refs.city_sort.getElementsByTagName("h2");this.$refs.city_list.toScrollTop(-i[t].offsetTop)}}},s,!1,function(t){n("OWZ0")},"data-v-c3975df8",null);i.default=e.exports},OWZ0:function(t,i){}});
//# sourceMappingURL=6.00c84bb0bcc0b3734dff.js.map